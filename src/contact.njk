---
layout: base.njk
title: Contact
description: Contactez Holon Systems pour un projet, rejoindre l'association ou en savoir plus
permalink: /contact/
---

<section class="text-center py-20">
    <h1 class="text-4xl md:text-6xl leading-tight">Contactez-nous</h1>
    <p class="mt-6 max-w-3xl mx-auto text-xl">Une question ? Un projet ? L'envie de contribuer ? Nous sommes à votre écoute.</p>
</section>

<section class="py-16 border-t border-gray-200">
    <div class="max-w-3xl mx-auto">
        
        <!-- Formulaire -->
        <form id="contactForm" class="bg-white/50 p-8 md:p-12 rounded-lg border border-gray-200">
            
            <div class="mb-6">
                <label for="name" class="block text-lg font-bold mb-2">Nom complet *</label>
                <input 
                    type="text" 
                    id="name" 
                    name="name" 
                    required 
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] bg-white"
                    placeholder="Votre nom">
            </div>

            <div class="mb-6">
                <label for="email" class="block text-lg font-bold mb-2">Email *</label>
                <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    required 
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] bg-white"
                    placeholder="votre@email.com">
            </div>

            <div class="mb-6">
                <label for="organization" class="block text-lg font-bold mb-2">Organisation (optionnel)</label>
                <input 
                    type="text" 
                    id="organization" 
                    name="organization" 
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] bg-white"
                    placeholder="Nom de votre organisation, collectivité...">
            </div>

            <div class="mb-6">
                <label for="subject" class="block text-lg font-bold mb-2">Sujet *</label>
                <select 
                    id="subject" 
                    name="subject" 
                    required 
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] bg-white">
                    <option value="">-- Sélectionnez --</option>
                    <option value="projet">Projet / Prestation</option>
                    <option value="ideosphere">Déployer IdeoSphere</option>
                    <option value="rejoindre">Rejoindre l'association</option>
                    <option value="contribuer">Contribuer / Bénévolat</option>
                    <option value="recherche">Recherche / Partenariat académique</option>
                    <option value="autre">Autre</option>
                </select>
            </div>

            <div class="mb-6">
                <label for="message" class="block text-lg font-bold mb-2">Message *</label>
                <textarea 
                    id="message" 
                    name="message" 
                    rows="8" 
                    required 
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent-color)] bg-white resize-y"
                    placeholder="Décrivez votre projet, votre question ou votre intérêt..."></textarea>
            </div>

            <div id="formMessage" class="mb-6 p-4 rounded-lg hidden"></div>

            <button 
                type="submit" 
                class="cta-button w-full md:w-auto px-8 py-4 text-lg">
                Envoyer le message
            </button>

        </form>

        <!-- Contact alternatif -->
        <div class="mt-12 text-center">
            <p class="text-lg mb-4">Ou contactez-nous directement par email :</p>
            <a href="mailto:contact@holonsystems.org" class="link-underline text-xl">contact@holonsystems.org</a>
        </div>

    </div>
</section>

<script>
// Pré-remplir le sujet depuis l'URL
document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const subject = urlParams.get('subject');
    if (subject) {
        const subjectSelect = document.getElementById('subject');
        if (subjectSelect) {
            subjectSelect.value = subject;
        }
    }
});

document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const formData = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        organization: document.getElementById('organization').value,
        subject: document.getElementById('subject').value,
        message: document.getElementById('message').value
    };
    
    const messageDiv = document.getElementById('formMessage');
    const submitButton = e.target.querySelector('button[type="submit"]');
    
    // Désactiver le bouton pendant l'envoi
    submitButton.disabled = true;
    submitButton.textContent = 'Envoi en cours...';
    
    try {
        const response = await fetch('https://forms.holonsystems.org/submit', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData)
        });
        
        if (response.ok) {
            messageDiv.className = 'mb-6 p-4 rounded-lg bg-green-100 border border-green-400 text-green-700';
            messageDiv.textContent = 'Message envoyé avec succès ! Nous vous répondrons rapidement.';
            messageDiv.classList.remove('hidden');
            e.target.reset();
        } else {
            throw new Error('Erreur serveur');
        }
    } catch (error) {
        messageDiv.className = 'mb-6 p-4 rounded-lg bg-red-100 border border-red-400 text-red-700';
        messageDiv.textContent = 'Une erreur est survenue. Veuillez réessayer ou nous contacter par email.';
        messageDiv.classList.remove('hidden');
    } finally {
        submitButton.disabled = false;
        submitButton.textContent = 'Envoyer le message';
    }
});
</script>
